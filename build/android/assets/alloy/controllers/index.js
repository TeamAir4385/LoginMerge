function __processArg(e,t){var i=null;return e&&(i=e[t]||null,delete e[t]),i}function Controller(){function e(e){Alloy.Globals.pushToken=null;var t=require("pushNotifications");t.initialize(e,function(e){Ti.API.info("I GOT A PUSH NOTIFICATION");var t;try{t=e.payload?JSON.parse(e.payload):e}catch(i){t={}}Ti.UI.createAlertDialog({title:t.android.title||"Alert",message:t.android.alert||"",buttonNames:["Ok"]}).show()},function(e){e.success?(Alloy.Globals.pushToken=e.data.deviceToken,Ti.API.debug("Success: Initializing Push Notifications "+JSON.stringify(e))):(alert("Error Initializing Push Notifications"),Alloy.Globals.pushToken=null)})}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="index",arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var t=this,i={};t.__views.home=Alloy.createController("home",{id:"home"}),t.__views.home&&t.addTopLevelView(t.__views.home),i.destroy=function(){},_.extend(t,t.__views),t.home.getView().open(),t.loginSuccessAction=function(i){e(i.model),Ti.API.info("logged in user information"),Ti.API.info(JSON.stringify(i.model,null,2)),t.tabGroup.open(),t.tabGroup.setActiveTab(0),t.feedController.initialize(),Alloy.Globals.currentUser=i.model,t.feedController.parentController=t,t.friendsController.parentController=t,t.settingsController.parentController=t,t.loginController&&t.loginController.close()},_.extend(t,i)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;